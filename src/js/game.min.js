game={running:!1,stopping:!1,lives:0,livesSpan:null,$div:null,toggle:function(a){game.running?game.stopping||game.stop():game.start(a)},start:function(a){game.running=!0;game.lives=1;var b=document.createElement("div");game.$div=$(b);b.className="lives";var c=document.createElement("span");c.id="lives";c.innerHTML=game.lives;game.livesSpan=c;b.appendChild(c);b.appendChild(document.createTextNode(" Lives"));game.$div.hide();a.append(b);game.keydown.codes.forEach(function(a){a.code.length>game.keydown.maxKeys&&
(game.keydown.maxKeys=a.code.length);a.codeString=a.code.toString()});$(document).bind("keydown",game.onkeydown);game.$div.slideDown("slow")},stop:function(){game.stopping=!0;game.running=!1;$(document).unbind("keydown",game.onkeydown);game.adjustLives(-game.lives,70)},stopped:function(){game.$div.slideUp("slow",function(){game.$div.remove();game.running=!1;game.stopping=!1;$(document).unbind("keydown",game.onkeydown)})},updateLives:function(){game.livesSpan&&(game.livesSpan.innerHTML=game.lives)},
loseLife:function(){game.running&&game.adjustLives(-1)},gainLife:function(){game.running&&game.adjustLives(1)},adjustLives:function(a,b){if(0!==game.lives){var c=0<a?1:-1;game.lives+=c;game.updateLives();a-=c;0!==a&&setTimeout(function(){game.adjustLives(a,b)},b||0)}0===game.lives&&setTimeout(game.stopped,1E3)},keydown:{keys:[],maxKeys:0,codes:[{name:"Konami",code:[38,38,40,40,37,39,37,39,66,65],codeString:"",handler:function(){game.adjustLives(30,90)}}]},onkeydown:function(a){game.keydown.keys.push(a.keyCode);
game.keydown.keys.length>game.keydown.maxKeys&&game.keydown.keys.shift();var b=game.keydown.keys.toString();game.keydown.codes.forEach(function(a){-1!==b.indexOf(a.codeString)&&a.handler()})}};
